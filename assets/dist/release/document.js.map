{"version":3,"file":"document.js","names":["templates","activeId","Docs","init","self","len","document","scripts","length","i","script","type","id","text","parentNode","removeChild","$","each","$this","attr","slice","title","data","Ecsgroup","$body","on","e","open","currentTarget","getAttribute","mainContent","byClass","animate","scrollTop","offsetTop","location","hash","click","search","previousElementSibling","value","keydown","keyCode","console","log","byId","innerHTML","textContent","classList","remove","parent","removeClass","addClass","query","searchText","trim","results","count","result","replace","RegExp","match","offset","string","push","finalResult","sort","a","b","add","docs","window"],"sources":["../../../../src/styles/js/document.js"],"sourcesContent":["\r\n/**\r\n * Ecsgroup Documentation Javascript File\r\n */\r\n\"use strict\";\r\n\r\n( function () {\r\n\t/**\r\n\t * @var templates {title, text} array of id\r\n\t */\r\n    var templates = [],\r\n        activeId = 'template-welcome';\r\n    var Docs = {\r\n        init: function () {\r\n            var self = this;\r\n\r\n            // find and remove all script templates\r\n            var len = document.scripts.length;\r\n\r\n            for ( var i = 0; i < len; ++i ) {\r\n                var script = document.scripts[i];\r\n                if ( script.type === 'text/html' ) {\r\n                    templates[script.id] = {\r\n                        text: script.text\r\n                    };\r\n                    script.parentNode.removeChild( script );\r\n                    --len, --i;\r\n                }\r\n            }\r\n\r\n            // get titles\r\n            $( 'aside .document-link' ).each( function () {\r\n                var $this = $( this ),\r\n                    id = $this.attr( 'href' ).slice( 1 );\r\n                templates[id] && (\r\n                    templates[id].title = $this.data( 'title' )\r\n                )\r\n            } );\r\n\r\n            // # Register events\r\n            Ecsgroup.$body.on( 'click', '.document-link', function ( e ) {\r\n                self.open( e.currentTarget.getAttribute( 'href' ).slice( 1 ) );\r\n                var mainContent = Ecsgroup.byClass( 'main-content' );\r\n                mainContent.length && $( 'html' ).animate( { scrollTop: mainContent[0].offsetTop }, 600 );\r\n            } );\r\n\r\n            if ( location.hash ) {\r\n                self.open( location.hash.slice( 1 ) );\r\n            }\r\n\r\n            $( '.btn-search' ).click( function () {\r\n                self.search( this.previousElementSibling.value );\r\n            } );\r\n\r\n            $( '.input-search' ).keydown( function ( e ) {\r\n                e.keyCode === 13 && self.search( this.value );\r\n            } );\r\n        },\r\n\r\n        open: function ( id ) {\r\n            // active new\r\n            id && templates[id] && ( activeId = id );\r\n            console.log(templates);\r\n            // show active\r\n            if ( activeId && templates[activeId] ) {\r\n                Ecsgroup.byId( 'document-view' ).innerHTML = templates[activeId].text;\r\n                Ecsgroup.byId( 'document-title' ).textContent = templates[activeId].title;\r\n                Ecsgroup.byId( 'document-view' ).classList.remove( 'search-result' );\r\n            }\r\n            $( Ecsgroup.byClass( 'document-link' ) ).parent( 'li' ).removeClass( 'show' );\r\n            $( '.document-link[href=\"#' + id + '\"]' ).parent().addClass( 'show' );\r\n        },\r\n\r\n        search: function ( query ) {\r\n\r\n            var searchText = query.trim();\r\n\r\n            if ( searchText == '' ) {\r\n                this.open();\r\n                return;\r\n            }\r\n            if ( searchText.length < 3 ) {\r\n                // do nothing\r\n                return;\r\n            }\r\n\r\n            var results = [];\r\n\r\n            Ecsgroup.byId( 'document-title' ).textContent = 'Search Result';\r\n\r\n            // Perform search\r\n            for ( var id in templates ) {\r\n                var count = 0, result;\r\n                result = templates[id].text.replace( new RegExp( searchText, 'gi' ), function ( match, offset, string ) {\r\n                    var i = 0;\r\n                    for ( i = offset; i >= 0; --i ) {\r\n                        if ( string[i] === '<' ) {\r\n                            return match;\r\n                        }\r\n                        if ( string[i] === '>' ) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    for ( i = offset; offset[i]; ++i ) {\r\n                        if ( string[i] === '>' ) {\r\n                            return match;\r\n                        }\r\n                        if ( string[i] === '<' ) {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    ++count;\r\n                    return '<mark>' + match + '</mark>';\r\n                } );\r\n\r\n                if ( count > 0 ) {\r\n                    results.push( {\r\n                        id: id,\r\n                        count: count,\r\n                        text: '<div class=\"search-pane\"><sup class=\"search-count\">' + count + '</sup>' + result + '</div>'\r\n                    } );\r\n                }\r\n            }\r\n\r\n            // Process result\r\n            var finalResult = '';\r\n            results.sort( function ( a, b ) {\r\n                return b.count - a.count;\r\n            } );\r\n            for ( var id in results ) {\r\n                finalResult += results[id].text;\r\n            }\r\n            Ecsgroup.byId( 'document-view' ).innerHTML = finalResult ? finalResult : '<h5 class=\"text-center\">Nothing Found</h5>';\r\n            Ecsgroup.byId( 'document-view' ).classList.add( 'search-result' );\r\n        }\r\n    }\r\n\r\n    Ecsgroup.docs = Docs;\r\n    $( window ).on( 'Ecsgroup_complete', function () {\r\n        Ecsgroup.docs && Ecsgroup.docs.init();\r\n    } )\r\n} )();"],"mappings":"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"}