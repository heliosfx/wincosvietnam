{"version":3,"file":"layout.js","names":["preloadTemplate","errorTemplate","$","focus","event","parent","addClass","blur","val","removeClass","document","ajaxSend","e","xhr","options","type","toUpperCase","token","find","setRequestHeader","updateViewCount","targetId","action","ajax","url","data","id","beforeSend","success","error","updateRateCount","viewname","result","html","viewsrc","search","value","keyword","Ok","text","msg","Ecsgroup","popup","src","Data","Msg","addRating","btn","idform","submitted","$this","formError","formImgLst","form","validate","focusCleanup","focusInvalid","errorPlacement","element","showErrors","errorMap","errorList","summary","text1","numberOfInvalids","text2","each","message","defaultShowErrors","invalidHandler","validator","show","hide","submitHandler","attr","serialize","showLoading","setTimeout","hideLoading","replace","trigger","Minipopup","open","productClass","template","loadmorerating","obj","proid","pagesize","nextpage","productId","page","animate","scrollTop","last","offset","top","CurrentPage","append","TotalPageCount","showreply","name","addComment","loadmorecomment","newsid","removecmtimg","target","valarray","JSON","parse","filter","item","stringify","remove","DeleteFile","file","path","fileCurrent","UpdateFile","direct","chipTemplate","FormData","files","_realInput","length","i","size","alert","text3","processData","contentType","_chipContainer","insertAdjacentHTML","_toggleNoFile","_realvalueInput","UpdateImage","input","valueimg","Array","valsrc","push","addToCart","selector","quantityclass","productid","oldtext","loadingtext","loadingdot","producttype","quantity","shoppingCart","addItemToCart","parseInt","window","location","href","css","showCartInfo","addToCartList","listid","listProduct","forEach","elem","ProductId","Quantity","Type","initCompare","compareList","localStorage","getItem","console","log","linkCompare","updateWishLst","wishList","wishListUpdate","index","listId","linkWishList","setItem","initHeart","isWishList","isCompare","selectSku","htmlresult","attid","attvalid","iswishlist","iscomparelist","attlst","urlprodut","v","ProductAttributeId","ProductAttributeValueId","isCountDown","countdown","productSingle","countDown","selectSkuDetail","producturl","urlbuilder","split","height","history","pushState","state","rand","Math","random","title","stickyContent","stickyProductOptions","initProductSinglePage","init","slider","shop","selectThumbSku","skuid","listedprice","price","toLocaleString","style","currency","percent","prop","recommendItems","openProductPopup","on","done","closing","refreshFilterNews","byId","getFilterResultNews","loadmoreFilterNews","paramlist","totalitem","TotalItemCount","itemremaining","updateState","refreshFilterProduct","pp","atval","curentattr","valid","valstr","join","bp","pr","getFilterResultProduct","loadmoreFilterProduct","getLocation","navigator","geolocation","getCurrentPosition","showPosition","text4","position","resetFilterStore","formstore","latitude","coords","longitude","refreshFilterStore","refreshDistrictList","provinceId","provinceid","province","district","getFilterResultStore","loadmoreSrcoll","$wrapper","next","hasClass","insertAfter","removeEventListener","passive","items","frmData","serializeArray","qr","d","undefined","includes","ajaxProduct","stringVal","targetType","scrollLeft","left","siblings","extend","messages","required","validate1","remote","validate2","email","validate3","validate4","date","validate5","dateISO","validate6","number","validate7","digits","validate8","creditcard","validate9","equalTo","validate10","accept","validate11","maxlength","format","validate12","minlength","validate13","rangelength","validate14","range","validate15","max","validate16","min","validate17","validateForm","layout","arguments","Fancybox","getInstance","close","note","arr","check","arrayCheck","code","is","dataType","method","sendMail","_removeChips","validateFormMini","validateFormApi","source","emailto","exelApi","sendMailApi","emailTo","choselang","lang","post","reload"],"sources":["../../../../src/styles/js/layout.js"],"sourcesContent":["var preloadTemplate = '<div class=\"pre-load\"><div class=\"flex-center\"><div class=\"loader\"></div></div></div>',\r\n    errorTemplate = '<div class=\"alert-test\"><div class=\"alert-title ecs-icon-times-circle\" ></div > ERROR_MSG</div>';\r\n// Effect\r\n$('.input-group-effect .form-control').focus(function(event) {\r\n    $(this).parent().addClass('focus');\r\n}).blur(function(event) {\r\n    if($(this).val() === '') $(this).parent().removeClass('focus');\r\n});\r\n$(document).ajaxSend(function(e, xhr, options) {\r\n    if (options.type.toUpperCase() == \"POST\" || options.type.toUpperCase() == \"PUT\") {\r\n        var token = $('form').find(\"input[name='__RequestVerificationToken']\").val();\r\n        xhr.setRequestHeader(\"RequestVerificationToken\", token);\r\n    }\r\n});\r\n// View count\r\nfunction updateViewCount(targetId, action) {\r\n    $.ajax({\r\n        url: action,\r\n        type: 'GET',\r\n        data: { id: targetId },\r\n        beforeSend: function () { },\r\n        success: function () { },\r\n        error: function () { }\r\n    });\r\n}\r\nfunction updateRateCount(targetId, viewname, action) {\r\n    $.ajax({\r\n        url: action,\r\n        type: 'GET',\r\n        data: { id: targetId, viewname: viewname },\r\n        beforeSend: function () { },\r\n        success: function (result) {\r\n            $('#avg-rating-container-ajax').html(result.viewsrc)\r\n        },\r\n        error: function () { }\r\n    });\r\n}\r\n\r\n// Search\r\nfunction search(value) {\r\n    $.ajax({\r\n        url: '/aj/Search/PreSearch',\r\n        type: 'GET',\r\n        data: { keyword: value },\r\n        beforeSend: function () { },\r\n        success: function (result) {\r\n            if (!result.Ok) {\r\n                $('#error-modal p').text(result.msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n            else {\r\n                $('.search-result-step2 .search-result-history').html(result.Data.viewsrc);\r\n            }\r\n        },\r\n        error: function (result) {\r\n            $('#error-modal p').text(result.Msg);\r\n            Ecsgroup.popup(\r\n                [{\r\n                    src: '#error-modal',\r\n                    type: \"inline\"\r\n                }],\r\n                {}, 'error');\r\n        }\r\n    });\r\n}\r\n// Rate\r\nfunction addRating(btn, idform) {\r\n    var submitted = true,\r\n        $this = $(btn),\r\n        formError = $(idform).find('.error-lst'),\r\n        formImgLst = $(idform).find('.list-image');\r\n\r\n    var form = $(idform).validate({\r\n        focusCleanup: true,\r\n        focusInvalid: false,\r\n        errorPlacement: function (error, element) { return false; },\r\n        showErrors: function (errorMap, errorList) {\r\n            if (submitted) {\r\n                var summary = '<div>'+ text1 + this.numberOfInvalids() + text2 +'</div>';\r\n                $.each(errorList, function () {\r\n                    summary += '<div class=\"alert-test\"><div class=\"alert-title ecs-icon-times-circle\"></div> ' + this.message + $(this.element).data('name') + '</div>';\r\n                });\r\n                formError.html(summary);\r\n                submitted = false;\r\n            }\r\n            this.defaultShowErrors();\r\n        },\r\n        invalidHandler: function (event, validator) {\r\n            // 'this' refers to the form\r\n            if (validator.numberOfInvalids()) {\r\n                formError.show();\r\n            } else {\r\n                formError.hide();\r\n            }\r\n            submitted = true;\r\n        },\r\n        submitHandler: function (form) {\r\n            submitted = true;\r\n\r\n            $.ajax({\r\n                url: $(idform).attr('action'),\r\n                type: 'POST',\r\n                data: $(idform).serialize(),\r\n                beforeSend: function () {\r\n                    Ecsgroup.showLoading($this);\r\n                },\r\n                success: function (result) {\r\n                    setTimeout(function () {\r\n                        $this.removeClass('load-more-overlay loading');\r\n                    }, 1000);\r\n                    Ecsgroup.hideLoading();\r\n                    if (!result.Ok) {\r\n                        formError.html(errorTemplate.replace('ERROR_MSG', result.Msg)).show();\r\n                    } else {\r\n                        formError.hide();\r\n                        $(idform).trigger('reset');\r\n                        $('.rating-stars a').removeClass('active');\r\n                        formImgLst.html('');\r\n                        $(idform).find('input[name=\"ListImage\"]').val('[]');\r\n                        Ecsgroup.Minipopup.open({\r\n                            productClass: ' success minipopup-center',\r\n                            message: '<p><i class=\"demo-icon cus-ok-circled\"></i>' + result.Msg + '</p>',\r\n                            template:\r\n                                '<div class=\"minipopup-box {{productClass}}\">' +\r\n                                '<div class=\"minipopup-body\">' +\r\n                                '<div class=\"minipopup-content\">{{message}}</div>' +\r\n                                '</div>' +\r\n                                '</div>',\r\n                        });\r\n                    }\r\n                    return false;\r\n                },\r\n                error: function (result) {\r\n                    Ecsgroup.hideLoading($this);\r\n                    $('#error-modal p').text(result.Msg);\r\n                    Ecsgroup.popup(\r\n                        [{\r\n                            src: '#error-modal',\r\n                            type: \"inline\"\r\n                        }],\r\n                        {}, 'error');\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\nfunction loadmorerating(obj, proid, pagesize) {\r\n    var $this = $(obj),\r\n        nextpage = $this.parent().find('#currentIndex');\r\n    $.ajax({\r\n        url: '/aj/Product/LoadmoreRating',\r\n        type: 'GET',\r\n        data: { productId: proid, page: nextpage.val(), pagesize: pagesize },\r\n        beforeSend: function () {\r\n            $this.addClass('load-more-overlay loading');\r\n        },\r\n        success: function (result) {\r\n            $('html, body').animate({\r\n                scrollTop: $('#rate .col-loadmore > *').last().offset().top - 80\r\n            }, 500);\r\n            $this.removeClass('load-more-overlay loading');\r\n            nextpage.val(result.CurrentPage + 1);\r\n            $('#rate .col-loadmore').append(result.viewsrc);\r\n            if (result.CurrentPage >= result.TotalPageCount) $('#loadmorecmt').hide();\r\n        },\r\n        error: function (result) {\r\n            $this.removeClass('load-more-overlay loading');\r\n            $('#error-modal p').text(result.Msg);\r\n            Ecsgroup.popup(\r\n                [{\r\n                    src: '#error-modal',\r\n                    type: \"inline\"\r\n                }],\r\n                {}, 'error');\r\n        }\r\n    });\r\n}\r\n// Comment\r\nfunction showreply(obj, name) {\r\n    $('.formreply').hide();\r\n    $(obj).find('textarea').val('').focus();\r\n    $(obj).show();\r\n    $(obj).find('.formreply').show();\r\n    $(obj).find('textarea').val('@' + name + ': ');\r\n    $('html, body').animate({\r\n        scrollTop: $(obj).offset().top - 190\r\n    }, 200);\r\n}\r\nfunction addComment(btn, idform) {\r\n    var submitted = true,\r\n        $this = $(btn),\r\n        formError = $(idform).find('.error-lst'),\r\n        formImgLst = $(idform).find('.list-image');\r\n    var form = $(idform).validate({\r\n        focusCleanup: true,\r\n        focusInvalid: false,\r\n        errorPlacement: function (error, element) { return false; },\r\n        showErrors: function (errorMap, errorList) {\r\n            if (submitted) {\r\n                var summary = '<div>'+ text1 + this.numberOfInvalids() + text2 +'</div>';\r\n                $.each(errorList, function () {\r\n                    summary += '<div class=\"alert-test\"><div class=\"alert-title ecs-icon-times-circle\"></div> ' + this.message + $(this.element).data('name') + '</div>';\r\n                });\r\n                formError.html(summary);\r\n                submitted = false;\r\n            }\r\n            this.defaultShowErrors();\r\n        },\r\n        invalidHandler: function (event, validator) {\r\n            // 'this' refers to the form\r\n            if (validator.numberOfInvalids()) {\r\n                formError.show();\r\n            } else {\r\n                formError.hide();\r\n            }\r\n            submitted = true;\r\n        },\r\n        submitHandler: function (form) {\r\n            submitted = true;\r\n            $.ajax({\r\n                url: $(idform).attr('action'),\r\n                type: 'POST',\r\n                data: $(idform).serialize(),\r\n                beforeSend: function () {\r\n                    Ecsgroup.showLoading($this);\r\n                },\r\n                success: function (result) {\r\n                    setTimeout(function () {\r\n                        $this.removeClass('load-more-overlay loading');\r\n                    }, 1000);\r\n                    Ecsgroup.hideLoading();\r\n                    if (!result.Ok) {\r\n                        formError.html(errorTemplate.replace('ERROR_MSG', result.Msg)).show();\r\n                    } else {\r\n                        formError.hide();\r\n                        $(idform).trigger('reset');\r\n                        formImgLst.html('');\r\n                        $(idform).find('input[name=\"ListImage\"]').val('[]');\r\n                        Ecsgroup.Minipopup.open({\r\n                            productClass: ' success minipopup-center',\r\n                            message: '<p><i class=\"demo-icon cus-ok-circled\"></i>' + result.Msg + '</p>',\r\n                            template:\r\n                                '<div class=\"minipopup-box {{productClass}}\">' +\r\n                                '<div class=\"minipopup-body\">' +\r\n                                '<div class=\"minipopup-content\">{{message}}</div>' +\r\n                                '</div>' +\r\n                                '</div>',\r\n                        });\r\n                    };\r\n                    return false;\r\n                },\r\n                error: function (result) {\r\n                    Ecsgroup.hideLoading($this);\r\n                    $('#error-modal p').text(result.Msg);\r\n                    Ecsgroup.popup(\r\n                        [{\r\n                            src: '#error-modal',\r\n                            type: \"inline\"\r\n                        }],\r\n                        {}, 'error');\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\nfunction loadmorecomment(obj, newsid, pagesize) {\r\n    var $this = $(obj),\r\n        nextpage = $this.parent().find('#currentIndex');\r\n    $.ajax({\r\n        url: '/aj/News/LoadmoreComment',\r\n        type: 'GET',\r\n        data: { newsid: newsid, page: nextpage.val(), pagesize: pagesize },\r\n        beforeSend: function () {\r\n            $this.addClass('load-more-overlay loading');\r\n        },\r\n        success: function (result) {\r\n            $('html, body').animate({\r\n                scrollTop: $('#comment .col-loadmore > *').last().offset().top - 80\r\n            }, 500);\r\n            $this.removeClass('load-more-overlay loading');\r\n            nextpage.val(result.CurrentPage + 1);\r\n            $('#comment .col-loadmore').append(result.viewsrc);\r\n            if (result.CurrentPage >= result.TotalPageCount) $('#loadmorecmt').hide();\r\n            //else\r\n            //$(\"#loadmorecmt\").html(\"<a href=\\\"javascript:\\\" class=\\\"btn btn-primary btn-loading\\\" onclick=\\\"loadmorecomment(\" + newsid + \",\" + (result.CurrentPage + 1) + \",\" + result.PageSize + \")\\\">Xem thêm bình luận</a>\");\r\n        },\r\n        error: function (result) {\r\n            $this.removeClass('load-more-overlay loading');\r\n            $('#error-modal p').text(result.Msg);\r\n            Ecsgroup.popup(\r\n                [{\r\n                    src: '#error-modal',\r\n                    type: \"inline\"\r\n                }],\r\n                {}, 'error');\r\n        }\r\n    });\r\n}\r\nfunction removecmtimg(obj) {\r\n    var target = $(obj).data('target'),\r\n        value = $(target).find('input[name=\"ListImage\"]').val(),\r\n        src = $(obj).data('src'),\r\n        valarray = JSON.parse(value);\r\n    valarray = valarray.filter(function (item) {\r\n        return item !== src\r\n    })\r\n    $(target).find('input[name=\"ListImage\"]').val(JSON.stringify(valarray));\r\n    $(obj).parent().remove();\r\n}\r\n    // Upload file\r\n    function DeleteFile(file) {\r\n        $.ajax({\r\n            url: '/aj/Shared/DeleteFile',\r\n            type: \"POST\",\r\n            data: { path: file },\r\n            beforeSend: function () {\r\n                Ecsgroup.showLoading();\r\n            },\r\n            success: function () {\r\n                Ecsgroup.hideLoading();\r\n            },\r\n            error: function () {\r\n                Ecsgroup.hideLoading();\r\n            }\r\n        });\r\n    };\r\n    var fileCurrent;\r\n    function UpdateFile(obj, direct, chipTemplate) {\r\n        var data = new FormData();\r\n        var files = obj._realInput.files;\r\n        if (files.length > 0) {\r\n            for (var i = 0; i < files.length; i++) {\r\n                if (files[i].size > 1024 * 1024 * 5) {\r\n                    alert(text3);\r\n                    return -1;\r\n                } else {\r\n                    data.append('HelpSectionImages' + i, files[i]);\r\n                }\r\n            }\r\n        }\r\n        $.ajax({\r\n            url: '/aj/Shared/UploadFile?pathStr=/file/' + (direct ? direct : 'banner') + '/',\r\n            type: \"POST\",\r\n            processData: false,\r\n            contentType: false,\r\n            data: data,\r\n            beforeSend: function () {\r\n                Ecsgroup.showLoading();\r\n            },\r\n            success: function (result) {\r\n                Ecsgroup.hideLoading();\r\n                if (!result.Ok) {\r\n                    $('#error-modal p').text(result.Msg);\r\n                    Ecsgroup.popup(\r\n                        [{\r\n                            src: '#error-modal',\r\n                            type: \"inline\"\r\n                        }],\r\n                        {}, 'error');\r\n                }\r\n                else {\r\n                    obj._chipContainer.insertAdjacentHTML(\"beforeend\", chipTemplate);\r\n                    obj._toggleNoFile();\r\n                    $(obj._realvalueInput).val(result.Data[0]);\r\n                    Ecsgroup.Minipopup.open({\r\n                        productClass: ' success minipopup-center',\r\n                        message: '<p><i class=\"demo-icon cus-ok-circled\"></i>' + result.Msg + '</p>',\r\n                        template:\r\n                            '<div class=\"minipopup-box {{productClass}}\">' +\r\n                            '<div class=\"minipopup-body\">' +\r\n                            '<div class=\"minipopup-content\">{{message}}</div>' +\r\n                            '</div>' +\r\n                            '</div>',\r\n                    });\r\n                    fileCurrent = obj;\r\n                }\r\n            },\r\n            error: function (result) {\r\n                Ecsgroup.hideLoading();\r\n                $('#error-modal p').text(result.Msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n        });\r\n    };\r\n    function UpdateImage(obj, input, direct, target) {\r\n        var data = new FormData(),\r\n            files = obj.files;\r\n        if (files.length > 0) {\r\n            for (var i = 0; i < files.length; i++) {\r\n                if (files[i].size > 1024 * 1024 * 5) {\r\n                    alert(text3);\r\n                    return -1;\r\n                } else {\r\n                    data.append('HelpSectionImages' + i, files[i]);\r\n                }\r\n            }\r\n        }\r\n        $(obj).val('');\r\n        $.ajax({\r\n            url: '/aj/Shared/UploadImage?pathStr=/img/' + (direct ? direct : 'banner') + '/',\r\n            type: 'POST',\r\n            processData: false,\r\n            contentType: false,\r\n            data: data,\r\n            beforeSend: function () {\r\n                Ecsgroup.showLoading();\r\n            },\r\n            success: function (result) {\r\n                Ecsgroup.hideLoading();\r\n                if (!result.Ok) {\r\n                    $('#error-modal p').text(result.Msg);\r\n                    Ecsgroup.popup(\r\n                        [{\r\n                            src: '#error-modal',\r\n                            type: \"inline\"\r\n                        }],\r\n                        {}, 'error');\r\n                }\r\n                else {\r\n                    var html = '<div class=\"img-item br-sm\"><a href=\"javascript:\" class=\"img-cmt-js\" data-target=\"' + target + '\" data-src=\"' + result.Data + '\" onclick=\"removecmtimg(this)\"><i class=\"demo-icon cus-cancel\"></i></a><img src=\"' + result.Data + '\" alt=\"\" width=\"150\" height=\"100\" loading=\"lazy\"></div>';\r\n                    $(target).find(\".list-image\").append(html);\r\n                    var valueimg = new Array();\r\n                    $(target).find('.list-image .img-item').each(function () {\r\n                        var valsrc = $(this).find('img').attr(\"src\");\r\n                        valueimg.push(valsrc);\r\n                    });\r\n                    $(target).find('input[name=\"' + input + '\"]').val(JSON.stringify(valueimg));\r\n                    Ecsgroup.Minipopup.open({\r\n                        productClass: ' success minipopup-center',\r\n                        message: '<p><i class=\"demo-icon cus-ok-circled\"></i>' + result.Msg + '</p>',\r\n                        template:\r\n                            '<div class=\"minipopup-box {{productClass}}\">' +\r\n                            '<div class=\"minipopup-body\">' +\r\n                            '<div class=\"minipopup-content\">{{message}}</div>' +\r\n                            '</div>' +\r\n                            '</div>',\r\n                    });\r\n                }\r\n            },\r\n            error: function (result) {\r\n                $('#error-modal p').text(result.Msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n        });\r\n    };\r\n    // End upload file\r\n// Cart\r\n// Cart\r\nfunction addToCart(selector, quantityclass, url) {\r\n    //var cartList = new Array()\r\n    //if (window.localStorage.getItem(\"cartlist\") != null) cartList = JSON.parse(window.localStorage.getItem(\"cartlist\"));\r\n    var $this = $(selector),\r\n        productid = $this.data('id'),\r\n        oldtext = $this.data('current-text'),\r\n        loadingtext = $this.data('loading-text'),\r\n        loadingdot = $this.data('loading-dot'),\r\n        producttype = $this.data('producttype'),\r\n        quantity = $this.parent().find(quantityclass).val();\r\n    $this.addClass('load-more-overlay loading').html(loadingdot);\r\n    Ecsgroup.shoppingCart.addItemToCart(productid, parseInt(quantity), producttype);\r\n    if (url != null) {\r\n        window.location.href = url;\r\n    }\r\n    else {\r\n        setTimeout(function () {\r\n            $this.html(loadingtext).css('pointer-events', 'none').removeClass('load-more-overlay loading');\r\n            Ecsgroup.shoppingCart.showCartInfo();\r\n        }, 1000);\r\n        setTimeout(function () {\r\n            $this.html(oldtext).css('pointer-events', 'auto');\r\n        }, 2000);\r\n    }\r\n}\r\nfunction addToCartList(obj, listid, url) {\r\n    var $this = $(obj),\r\n        oldtext = $this.data('current-text'),\r\n        loadingtext = $this.data('loading-text'),\r\n        loadingdot = $this.data('loading-dot'),\r\n        listProduct = JSON.parse($(listid).val());\r\n    $this.addClass('load-more-overlay loading').html(loadingdot);\r\n    listProduct.forEach(function (elem) {\r\n        Ecsgroup.shoppingCart.addItemToCart(elem.ProductId, parseInt(elem.Quantity), elem.Type);\r\n    });\r\n    if (url != null) {\r\n        window.location.href = url;\r\n    }\r\n    else {\r\n        setTimeout(function () {\r\n            $this.html(loadingtext).css('pointer-events', 'none').removeClass('load-more-overlay loading');\r\n            Ecsgroup.shoppingCart.showCartInfo();\r\n        }, 1000);\r\n        setTimeout(function () {\r\n            $this.html(oldtext).css('pointer-events', 'auto');\r\n        }, 2000);\r\n    }\r\n}\r\n\r\n// Compare list\r\nfunction initCompare(selector) {\r\n    var compareList = new Array();\r\n    if (window.localStorage.getItem(\"comparelist\") != null) compareList = JSON.parse(window.localStorage.getItem(\"comparelist\"));\r\n    $(selector + ' .btn-compare').addClass('disabled');\r\n    console.log(\"initCompare loading...\");\r\n    if (compareList.length > 0 && $(selector + ' .btn-compare').length > 0) {\r\n        compareList.forEach(function (item) {\r\n            $(selector + ' .btn-compare[data-id=\"' + item.id + '\"]')\r\n                .removeClass('ecs-icon-compare')\r\n                .addClass('added ecs-icon-check-solid')\r\n                .attr('href', Ecsgroup.linkCompare);\r\n        });\r\n    }\r\n    else {\r\n        $(selector + ' .btn-compare')\r\n            .removeClass('added ecs-icon-check-solid')\r\n            .addClass('ecs-icon-compare')\r\n            .attr('href', 'javascript:');\r\n    }\r\n    console.log(\"initCompare complete\");\r\n    $(selector + ' .btn-compare').removeClass('disabled');\r\n}\r\n// Wish list\r\nfunction updateWishLst(selector, productId) {\r\n    var wishList = new Array();\r\n    if (window.localStorage.getItem(\"wishlist\") != null) wishList = JSON.parse(window.localStorage.getItem(\"wishlist\"));\r\n    var $this = $(selector);\r\n    var wishListUpdate = wishList.find((elem, index) => {\r\n        return elem === productId;\r\n    });\r\n    if (wishListUpdate == null) wishList.push(productId);\r\n    $.ajax({\r\n        url: \"/aj/Account/UpdateWishList\",\r\n        type: 'POST',\r\n        data: { listId: JSON.stringify(wishList)},\r\n        beforeSend: function () {\r\n            $this.addClass('load-more-overlay loading');\r\n        },\r\n        success: function (result) {\r\n            if (!result.Ok) {\r\n                $this.removeClass('load-more-overlay loading');\r\n                $('#error-modal p').text(result.Msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            } else {\r\n                $this.removeClass('load-more-overlay loading');\r\n                $('body .btn-wishlist[data-id=\"' + productId + '\"]')\r\n                    .removeClass('ecs-icon-heart')\r\n                    .addClass('added ecs-icon-heart-full')\r\n                    .attr('href', Ecsgroup.linkWishList);\r\n                Ecsgroup.Minipopup.open({\r\n                    productClass: ' success minipopup-center',\r\n                    message: '<p><i class=\"demo-icon cus-ok-circled\"></i>' + result.Msg + '</p>',\r\n                    template:\r\n                        '<div class=\"minipopup-box {{productClass}}\">' +\r\n                        '<div class=\"minipopup-body\">' +\r\n                        '<div class=\"minipopup-content\">{{message}}</div>' +\r\n                        '</div>' +\r\n                        '</div>',\r\n                });\r\n                window.localStorage.setItem('wishlist', JSON.stringify(wishList));\r\n            }\r\n        },\r\n        error: function (result) {\r\n            $this.removeClass('load-more-overlay loading');\r\n            $('#error-modal p').text(result.Msg);\r\n            Ecsgroup.popup(\r\n                [{\r\n                    src: '#error-modal',\r\n                    type: \"inline\"\r\n                }],\r\n                {}, 'error');\r\n        }\r\n    });\r\n}\r\nfunction initHeart(selector) {\r\n    console.log(\"initHeart loading...\");\r\n    var wishList = new Array();\r\n    if (window.localStorage.getItem(\"wishlist\") != null) wishList = JSON.parse(window.localStorage.getItem(\"wishlist\"));\r\n    $(selector + ' .btn-wishlist').addClass('disabled');\r\n    $(selector + ' .btn-quickview').addClass('disabled');\r\n    if (wishList.length > 0 && $(selector + ' .btn-wishlist').length > 0) {\r\n        wishList.forEach(function (value) {\r\n            $(selector + ' .btn-wishlist[data-id=\"' + value + '\"]')\r\n                .removeClass('ecs-icon-heart')\r\n                .addClass('added ecs-icon-heart-full')\r\n                .attr('href', Ecsgroup.linkWishList);\r\n        });\r\n        console.log(\"initHeart complete\");\r\n    }\r\n    else {\r\n        $.ajax({\r\n            url: \"/aj/Account/GetHeartStatus\",\r\n            type: 'POST',\r\n            beforeSend: function () {},\r\n            success: function (result) {\r\n                if (result.Data) {\r\n                    result.Data.forEach(function (value) {\r\n                        $(selector + ' .btn-wishlist[data-id=\"' + value + '\"]')\r\n                            .removeClass('ecs-icon-heart')\r\n                            .addClass('added ecs-icon-heart-full')\r\n                            .attr('href', Ecsgroup.linkWishList);\r\n                    });\r\n                    window.localStorage.setItem('wishlist', JSON.stringify(result.Data));\r\n                    console.log(\"initHeart complete\");\r\n                }\r\n            },\r\n            error: function () {\r\n                console.log(\"initHeart error\");\r\n            }\r\n        });\r\n    }\r\n    $(selector + ' .btn-wishlist').removeClass('disabled');\r\n    $(selector + ' .btn-quickview').removeClass('disabled');\r\n}\r\nsetTimeout(function () {\r\n    if (Ecsgroup.isWishList) initHeart('body');\r\n    if (Ecsgroup.isCompare) initCompare('body');\r\n}, 3000);\r\n// Sku\r\nfunction selectSku(selector, viewname) {\r\n    let $this = $(selector),\r\n        htmlresult = $this.data('container'),\r\n        attid = parseInt($this.data('attid')),\r\n        attvalid = parseInt($this.data('attvalid')),\r\n        productid = $this.data('productid'),\r\n        iswishlist = $(htmlresult + ' .btn-wishlist.added').length,\r\n        iscomparelist = $(htmlresult + ' .btn-compare.added').length,\r\n        attlst = JSON.parse($(htmlresult + ' .attrlist-singlesku').val()),\r\n        url = '/aj/Shared/SelectVerProduct?id=' + productid + '&ver=';\r\n    urlprodut = $this.data('url');\r\n    attlst.forEach(function (v, i) {\r\n        if (v.ProductAttributeId === attid) {\r\n            url += (i == 0 ? '' : 'v') + attid + '-' + attvalid;\r\n            urlprodut += (i == 0 ? '' : 'v') + attid + '-' + attvalid;\r\n        }\r\n        else {\r\n            url += (i == 0 ? '' : 'v') + v.ProductAttributeId + '-' + v.ProductAttributeValueId;\r\n            urlprodut += (i == 0 ? '' : 'v') + v.ProductAttributeId + '-' + v.ProductAttributeValueId;\r\n        }\r\n    });\r\n    if (Ecsgroup.isCountDown) $(htmlresult + ' .product-countdown').countdown('destroy');\r\n    $.ajax({\r\n        url: url,\r\n        type: 'GET',\r\n        data: { viewname: viewname },\r\n        beforeSend: function () {\r\n            if (htmlresult != '#product-popup-ajax') $(htmlresult).addClass('preload-container').append(preloadTemplate);\r\n            else $(htmlresult).addClass('shimmer-container');\r\n        },\r\n        success: function (result) {\r\n            if (htmlresult != '#product-popup-ajax') $(htmlresult).removeClass('preload-container').remove('.pre-load');\r\n            else $(htmlresult).removeClass('shimmer-container');\r\n            if (!result.Ok) {\r\n                $('#error-modal p').text(result.Msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n            else {\r\n                $(htmlresult).html(result.Data.viewsrc).find('.product-url').attr('href', urlprodut);\r\n                setTimeout(function () {\r\n                    Ecsgroup.productSingle(htmlresult);\r\n                    if (Ecsgroup.isCountDown) Ecsgroup.countDown(htmlresult + ' .product-countdown');\r\n                    if (Ecsgroup.isWishList) $(htmlresult + ' .btn-wishlist').removeClass('disabled');\r\n                    if (Ecsgroup.isCompare) $(htmlresult + ' .btn-compare').removeClass('disabled');\r\n                    if (iswishlist > 0) $(htmlresult + ' .btn-wishlist').removeClass('ecs-icon-heart').addClass('added ecs-icon-heart-full').attr('href', Ecsgroup.linkWishList);\r\n                    if (iscomparelist > 0) $(htmlresult + ' .btn-compare').removeClass('ecs-icon-compare').addClass('added ecs-icon-check-solid').attr('href', Ecsgroup.linkCompare);\r\n                }, 500);\r\n                if (htmlresult != '#product-popup-ajax') {\r\n                    $('html, body').animate({\r\n                        scrollTop: $(htmlresult).offset().top - 80\r\n                    }, 500);\r\n                }\r\n                //Ecsgroup.shop.init();\r\n            }\r\n        },\r\n        error: function (result) {\r\n            if (htmlresult != '#product-popup-ajax') $(htmlresult).removeClass('preload-container').remove('.pre-load');\r\n            else $(htmlresult).removeClass('shimmer-container');\r\n            $('#error-modal p').text(result.Msg);\r\n            Ecsgroup.popup(\r\n                [{\r\n                    src: '#error-modal',\r\n                    type: \"inline\"\r\n                }],\r\n                {}, 'error');\r\n        }\r\n    });\r\n}\r\nfunction selectSkuDetail(obj) {\r\n    var $this = $(obj),\r\n        iswishlist = $('#product-info .btn-wishlist.added').length,\r\n        iscomparelist = $('#product-info .btn-compare.added').length,\r\n        producturl = $this.data('url'),\r\n        attid = parseInt($this.data('id')),\r\n        attvalid = parseInt($this.data('valid')),\r\n        attlst = JSON.parse($('#attrlisthd').val()),\r\n        urlbuilder = window.location.href.split('?')[0] + '?ver=',\r\n        url = '/aj/product/selectverproduct?ver=';\r\n    attlst.forEach(function (v, i) {\r\n        if (v.ProductAttributeId === attid) {\r\n            url += (i == 0 ? '' : 'v') + attid + '-' + attvalid;\r\n            urlbuilder += (i == 0 ? '' : 'v') + attid + '-' + attvalid;\r\n        }\r\n        else {\r\n            url += (i == 0 ? '' : 'v') + v.ProductAttributeId + '-' + v.ProductAttributeValueId;\r\n            urlbuilder += (i == 0 ? '' : 'v') + v.ProductAttributeId + '-' + v.ProductAttributeValueId;\r\n        }\r\n    });\r\n    $('#product-info').css('height', $('#product-info').height() + 'px');\r\n    if (Ecsgroup.isCountDown) $('#product-info .product-countdown').countdown('destroy');\r\n    $.ajax({\r\n        url: url,\r\n        type: 'POST',\r\n        data: { url: producturl},\r\n        beforeSend: function () {\r\n            $('#product-info').addClass('shimmer-container');\r\n        },\r\n        success: function (result) {\r\n            $('#product-info').removeClass('shimmer-container');\r\n            if (!result.Ok) {\r\n                $('#error-modal p').text(result.Msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n            else {\r\n                $('#product-info').html(result.Data.viewsrc).css('height', 'auto');\r\n                $('.url-ajax').each(function () {\r\n                    if ($(this).data('url')) $(this).attr('href', $(this).data('url') + window.location.href);\r\n                    else $(this).attr('href', window.location.href);\r\n                })\r\n                window.history.pushState({ state: urlbuilder, rand: Math.random() }, document.title, urlbuilder);\r\n                setTimeout(function () {\r\n                    if (Ecsgroup.isCountDown) Ecsgroup.countDown('#product-info .product-countdown');\r\n                    if (Ecsgroup.isWishList) $('#product-info .btn-wishlist').removeClass('disabled');\r\n                    if (Ecsgroup.isCompare) $('#product-info .btn-compare').removeClass('disabled');\r\n                    if (iswishlist > 0) $('#product-info .btn-wishlist').removeClass('ecs-icon-heart').addClass('added ecs-icon-heart-full').attr('href', Ecsgroup.linkWishList);\r\n                    if (iscomparelist > 0) $('#product-info .btn-compare').removeClass('ecs-icon-compare').addClass('added ecs-icon-check-solid').attr('href', Ecsgroup.linkCompare);\r\n                }, 1000);\r\n                $('html, body').animate({\r\n                    scrollTop: $('#product-info').offset().top - 80\r\n                }, 500);\r\n                Ecsgroup.stickyContent('.product-sticky-content', Ecsgroup.stickyProductOptions);\r\n                Ecsgroup.productSingle('#product-info .product-single');\r\n                Ecsgroup.initProductSinglePage.init();\r\n                Ecsgroup.slider('#product-info .swiper-container');\r\n                Ecsgroup.shop.init();\r\n            }\r\n            /*location.reload();*/\r\n        },\r\n        error: function (result) {\r\n            $('#product-info').removeClass('shimmer-container');\r\n            $('#error-modal p').text(result.Msg);\r\n            Ecsgroup.popup(\r\n                [{\r\n                    src: '#error-modal',\r\n                    type: \"inline\"\r\n                }],\r\n                {}, 'error');\r\n        }\r\n    });\r\n}\r\nfunction selectThumbSku(selector, id, url) {\r\n    let $this = selector,\r\n        html = '';\r\n    $.ajax({\r\n        url: '/aj/Shared/SelectSkuById',\r\n        type: 'GET',\r\n        data: { skuid: parseInt(id) },\r\n        beforeSend: function () {\r\n            $this.addClass('shimmer-container');\r\n        },\r\n        success: function (result) {\r\n            $this.removeClass('shimmer-container');\r\n            if (!result.Ok) {\r\n                $('#error-modal p').text(result.Msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n            else {\r\n                if (result.Data.listedprice != 0) {\r\n                    html = '<ins class=\"new-price price-promoprice\">' + result.Data.price.toLocaleString('vi-VN', { style: 'currency', currency: 'VND' }) + '</ins>' +\r\n                        '<label class=\"product-label label-discount\"><span>-' + result.Data.percent + '%</span></label>';\r\n                }\r\n                else {\r\n                    html = '<ins class=\"new-price\">' + result.Data.price.toLocaleString('vi-VN', { style: 'currency', currency: 'VND' }) + '</ins>';\r\n                }\r\n                if ($this.find('input[type=\"checkbox\"]').length > 0) {\r\n                    $this.find('input[type=\"checkbox\"]').attr({\r\n                        'data-price': result.Data.price,\r\n                        'data-promprice': result.Data.listedprice,\r\n                        value: id\r\n                    }).prop('checked', false);\r\n                    Ecsgroup.initProductSinglePage.recommendItems();\r\n                }\r\n                $this.find('.product-url').attr('href', url + result.Data.url);\r\n                $this.find('.btn-quickview ').attr('data-url', result.Data.url);\r\n                $this.find('.product-price').html(html);\r\n            }\r\n        },\r\n        error: function (result) {\r\n            $this.removeClass('shimmer-container');\r\n            $('#error-modal p').text(result.Msg);\r\n            Ecsgroup.popup(\r\n                [{\r\n                    src: '#error-modal',\r\n                    type: \"inline\"\r\n                }],\r\n                {}, 'error');\r\n        }\r\n    });\r\n}\r\nfunction openProductPopup(btn) {\r\n    var popup = '#product-popup',\r\n        $this = $(btn),\r\n        htmlresult = '#product-popup-ajax',\r\n        productid = $this.data('id'),\r\n        iswishlist = $this.parent().find('.btn-wishlist.added').length,\r\n        iscomparelist = $this.parent().find('.btn-compare.added').length,\r\n        url = '/aj/Shared/SelectVerProduct?id=' + productid + '&ver=' + $this.data('url');\r\n    $.ajax({\r\n        url: url,\r\n        type: 'GET',\r\n        data: { viewname: '_ItemProductPopup' },\r\n        beforeSend: function () { },\r\n        success: function (result) {\r\n            if (!result.Ok) {\r\n                $('#error-modal p').text(result.msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n            else {\r\n                $(htmlresult).html(result.Data.viewsrc);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: popup,\r\n                        type: \"inline\"\r\n                    }],\r\n                    {\r\n                        on: {\r\n                            done: () => {\r\n                                Ecsgroup.productSingle(htmlresult);\r\n                                setTimeout(function () {\r\n                                    if (Ecsgroup.isCountDown) Ecsgroup.countDown(htmlresult + ' .product-countdown');\r\n                                    $this.removeClass('load-more-overlay loading');\r\n                                    if (Ecsgroup.isWishList) $(htmlresult + ' .btn-wishlist').removeClass('disabled');\r\n                                    if (Ecsgroup.isCompare) $(htmlresult + ' .btn-compare').removeClass('disabled');\r\n                                    if (iswishlist > 0) $(htmlresult + ' .btn-wishlist').removeClass('ecs-icon-heart').addClass('added ecs-icon-heart-full').attr('href', Ecsgroup.linkWishList);\r\n                                    if (iscomparelist > 0) $(htmlresult + ' .btn-compare').removeClass('ecs-icon-compare').addClass('added ecs-icon-check-solid').attr('href', Ecsgroup.linkCompare);\r\n                                    $(htmlresult).removeClass('shimmer-container');\r\n                                }, 500);\r\n                            },\r\n                            closing: () => {\r\n                                if (Ecsgroup.isCountDown) $(htmlresult + ' .product-countdown').countdown('destroy');\r\n                            }\r\n                        },\r\n                    }, 'quickview');\r\n            }\r\n        },\r\n        error: function (result) {\r\n            $('#error-modal p').text(result.Msg);\r\n            Ecsgroup.popup(\r\n                [{\r\n                    src: '#error-modal',\r\n                    type: \"inline\"\r\n                }],\r\n                {}, 'error');\r\n        }\r\n    });\r\n}\r\n// Filter news\r\nfunction refreshFilterNews() {\r\n    var form = $(Ecsgroup.byId('filterform'));\r\n    form.find('input[name=\"sort\"]').val($('#sortdropdown').val());\r\n    form.find('input[name=\"page\"]').val(1);\r\n    getFilterResultNews();\r\n}\r\nfunction loadmoreFilterNews() {\r\n    var form = $('#filterform'),\r\n        page = parseInt(form.find('input[name=\"page\"]').val()) + 1;\r\n    form.find('input[name=\"page\"]').val(page);\r\n    form.find('input[name=\"sort\"]').val($('#sortdropdown').val());\r\n    getFilterResultNews('loadmore');\r\n}\r\nfunction getFilterResultNews(type) {\r\n    var form = $(\"#filterform\"),\r\n        paramlist = ['page', 'sort'];\r\n    if (type === 'loadmore') {\r\n        var top = $('#list-filter-loadmore > *').last().offset().top;\r\n        $.ajax({\r\n            url: form.attr('action'),\r\n            type: 'GET',\r\n            data: form.serialize() + '&type=loadmore',\r\n            beforeSend: function () {\r\n                $('#loadmore').addClass('load-more-overlay loading');\r\n                $('#list-filter-loadmore').addClass('shimmer-container');\r\n            },\r\n            success: function (result) {\r\n                $('html, body').animate({\r\n                    scrollTop: top + 100\r\n                }, 500);\r\n                $('#list-filter-loadmore').append(result.viewsrc).removeClass('shimmer-container');\r\n                totalitem = '1-' + $('#list-filter-loadmore > *').length + '/' + result.TotalItemCount;\r\n                $('.readmore-count').text('(' + result.itemremaining + ')');\r\n                $('.totalitem').text(totalitem);\r\n                form.find('input[name=\"page\"]').val(result.CurrentPage);\r\n                if (result.CurrentPage >= result.TotalPageCount) $('#loadmore').hide();\r\n                updateState(paramlist);\r\n                $('#loadmore').removeClass('load-more-overlay loading');\r\n            },\r\n            error: function (result) {\r\n                $('#list-filter-loadmore').removeClass('shimmer-container');\r\n                $('#loadmore').removeClass('load-more-overlay loading');\r\n                $('#error-modal p').text(result.Msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        $.ajax({\r\n            url: form.attr('action'),\r\n            type: 'GET',\r\n            data: form.serialize(),\r\n            beforeSend: function () {\r\n                $('#list-filter').addClass('shimmer-container');\r\n            },\r\n            success: function (result) {\r\n                $('#list-filter').html(result).removeClass('shimmer-container');\r\n                $('.totalitem').text(totalitem);\r\n                updateState(paramlist);\r\n            },\r\n            error: function (result) {\r\n                $('#list-filter').removeClass('shimmer-container');\r\n                $('#error-modal p').text(result.Msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n        });\r\n    }\r\n}\r\n// Filter product\r\nfunction refreshFilterProduct() {\r\n    var form = $(Ecsgroup.byId('filterform'));\r\n    //Lấy thuộc tính thả vào hidden field\r\n    var pp = [];\r\n    $('#filter input[name=\"attr\"]:checked').each(function () {\r\n        var atval = $(this).val().split(\"-\");\r\n        if (atval.length == 2) {\r\n            var curentattr = pp.find(function (e) {\r\n                return e.attid == atval[0];\r\n            });\r\n\r\n            if (curentattr) {\r\n                curentattr.valid.push(atval[1]);\r\n            } else {\r\n                pp.push({\r\n                    attid: atval[0],\r\n                    valid: [atval[1]]\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    form.find('input[name=\"pp\"]').val('');\r\n    if (pp.length > 0) {\r\n        var valstr = '';\r\n        for (var i = 0; i < pp.length; i++) {\r\n            if (i != 0) {\r\n                valstr += 'v';\r\n            }\r\n            valstr += pp[i].attid + '-' + pp[i].valid.join(',');\r\n        }\r\n        form.find('input[name=\"pp\"]').val(valstr);\r\n    }\r\n\r\n    //Lấy thương hiệu thả vào hidden field\r\n    var bp = [];\r\n    $('#filter input[name=\"brand\"]:checked').each(function () {\r\n        bp.push($(this).val());\r\n    });\r\n\r\n    form.find('input[name=\"bp\"]').val('');\r\n    if (bp.length > 0) {\r\n        form.find('input[name=\"bp\"]').val(bp.join(','));\r\n    }\r\n\r\n    //Lấy giá thả vào hidden field\r\n    var pr = [];\r\n    $('#filter input[name=\"price\"]:checked').each(function () {\r\n        pr.push($(this).val());\r\n    });\r\n\r\n    form.find('input[name=\"pr\"]').val('');\r\n    if (pr.length > 0) {\r\n        form.find('input[name=\"pr\"]').val(pr.join(','));\r\n    }\r\n\r\n    //Lấy cách sắp xếp thả vào hidden field\r\n    form.find('input[name=\"sort\"]').val($('#sortdropdown').val());\r\n\r\n    form.find('input[name=\"page\"]').val(1);\r\n    getFilterResultProduct();\r\n}\r\nfunction loadmoreFilterProduct() {\r\n    var form = $('#filterform'),\r\n        page = parseInt(form.find('input[name=\"page\"]').val()) + 1;\r\n    form.find('input[name=\"page\"]').val(page);\r\n    form.find('input[name=\"sort\"]').val($('#sortdropdown').val());\r\n    getFilterResultProduct('loadmore');\r\n}\r\nfunction getFilterResultProduct(type) {\r\n    var form = $('#filterform'),\r\n        paramlist = ['page', 'pp', 'bp', 'pr', 'sort'];\r\n    if (Ecsgroup.isCountDown) $('#list-filter .product-countdown').countdown('destroy');\r\n    if (type === 'loadmore') {\r\n        var top = $('#list-filter-loadmore > *').last().offset().top;\r\n        $.ajax({\r\n            url: form.attr('action'),\r\n            type: 'GET',\r\n            data: form.serialize() + '&type=loadmore',\r\n            beforeSend: function () {\r\n                $('#loadmore').addClass('load-more-overlay loading');\r\n                $('#list-filter-loadmore').addClass('shimmer-container');\r\n            },\r\n            success: function (result) {\r\n                $('html, body').animate({\r\n                    scrollTop: top\r\n                }, 500);\r\n                $('#list-filter-loadmore').append(result.viewsrc).removeClass('shimmer-container');\r\n                $('#list-filter-loadmore .lazyload-bg').each(function () {\r\n                    $(this).css('background-image', 'url(' + $(this).data(\"bg\") + ')').removeClass('lazyload-bg').addClass('ls-is-cached lazyloaded');\r\n                })\r\n                setTimeout(function () {\r\n                    if (Ecsgroup.isCountDown) Ecsgroup.countDown('#list-filter .product-countdown');\r\n                    if (Ecsgroup.isWishList) initHeart('#list-filter');\r\n                }, 1000);\r\n                totalitem = '1-' + $('#list-filter-loadmore > *').length + '/' + result.TotalItemCount;\r\n                $('.readmore-count').text('(' + result.itemremaining + ')');\r\n                $('.totalitem').text(totalitem);\r\n                form.find('input[name=\"page\"]').val(result.CurrentPage);\r\n                if (result.CurrentPage >= result.TotalPageCount) $('#loadmore').hide();\r\n                updateState(paramlist);\r\n                $('#loadmore').removeClass('load-more-overlay loading');\r\n            },\r\n            error: function (result) {\r\n                $('#list-filter-loadmore').removeClass('shimmer-container');\r\n                $('#loadmore').removeClass('load-more-overlay loading');\r\n                $('#error-modal p').text(result.Msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        $.ajax({\r\n            url: form.attr('action'),\r\n            type: 'GET',\r\n            data: form.serialize(),\r\n            beforeSend: function () {\r\n                $('#list-filter').addClass('shimmer-container');\r\n                Ecsgroup.showLoading();\r\n            },\r\n            success: function (result) {\r\n                $('html, body').animate({\r\n                    scrollTop: $('#productcat').offset().top - 100\r\n                }, 500);\r\n                $('#list-filter').html(result).removeClass('shimmer-container');\r\n                $('#list-filter .lazyload-bg').each(function () {\r\n                    $(this).css('background-image', 'url(' + $(this).data(\"bg\") + ')').removeClass('lazyload-bg').addClass('ls-is-cached lazyloaded');\r\n                })\r\n                setTimeout(function () {\r\n                    if (Ecsgroup.isCountDown) Ecsgroup.countDown('#list-filter .product-countdown');\r\n                    if (Ecsgroup.isWishList) initHeart('#list-filter');\r\n                    if (Ecsgroup.isCompare) initCompare('#list-filter');\r\n                }, 1000);\r\n                $('.totalitem').text(totalitem);\r\n                Ecsgroup.hideLoading();\r\n                updateState(paramlist);\r\n            },\r\n            error: function (result) {\r\n                $('#list-filter').removeClass('shimmer-container');\r\n                Ecsgroup.hideLoading();\r\n                $('#error-modal p').text(result.Msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n        });\r\n    }\r\n}\r\n// Filter store\r\nfunction getLocation() {\r\n    if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(showPosition);\r\n        $(\"#btn-near-location\").addClass('active');\r\n    } else {\r\n        $('#error-modal p').text(text4);\r\n        Ecsgroup.popup(\r\n            [{\r\n                src: '#error-modal',\r\n                type: \"inline\"\r\n            }],\r\n            {}, 'error');\r\n    }\r\n}\r\nfunction showPosition(position) {\r\n    resetFilterStore();\r\n    var form = $(\"#filterform\"),\r\n        formstore = $('#search-store-from'),\r\n        latitude = position.coords.latitude,\r\n        longitude = position.coords.longitude;\r\n    formstore.find('input[name=\"lat\"]').val(latitude);\r\n    formstore.find('input[name=\"log\"]').val(longitude);\r\n    form.find(\"input[name='lat']\").val(latitude);\r\n    form.find(\"input[name='log']\").val(longitude);\r\n    if ($('.select-district li').length > 1) $('.select-district li[data-value=\"0\"]').trigger('click');\r\n    else refreshFilterStore();\r\n}\r\nfunction refreshDistrictList() {\r\n    var provinceId = $(\"#filter input[name='province']:checked\").val();\r\n    $.ajax({\r\n        url: '/aj/store/RefreshDistrictList',\r\n        type: 'GET',\r\n        data: { provinceid: provinceId },\r\n        beforeSend: function () {\r\n            Ecsgroup.showLoading();\r\n        },\r\n        success: function (result) {\r\n            Ecsgroup.hideLoading();\r\n            $('.select-district-js').html(result);\r\n            //Ecsgroup.cutomizeSelect('.select-district');\r\n        },\r\n        error: function (result) {\r\n            Ecsgroup.hideLoading();\r\n            Ecsgroup.popup(\r\n                [{\r\n                    src: '#error-modal',\r\n                    type: \"inline\"\r\n                }],\r\n                {}, 'error');\r\n        }\r\n    });\r\n}\r\nfunction resetFilterStore() {\r\n    var form = $(\"#filterform\"),\r\n        formstore = $('#search-store-from'),\r\n        pagesize = form.find('input[name=\"pagesize\"]').val();\r\n    $('#filter #select-district').val(null);\r\n    form.find('input').val(null);\r\n    formstore.find('input').val(null);\r\n    formstore.find('input[name=\"sort\"]').val(0);\r\n    form.find('input[name=\"sort\"]').val(0);\r\n    form.find('input[name=\"pagesize\"]').val(pagesize);\r\n    form.find('input[name=\"page\"]').val(1);\r\n}\r\nfunction refreshFilterStore() {\r\n    var form = $(Ecsgroup.byId('filterform')),\r\n        formstore = $('#search-store-from');\r\n        form.find('input[name=\"sort\"]').val($('#sortdropdown').val());\r\n\r\n    //Lấy province vào hidden field\r\n        var province = [];\r\n        $('#filter input[name=\"province\"]:checked').each(function () {\r\n            province.push($(this).val());\r\n        });\r\n        form.find('input[name=\"province\"]').val('');\r\n        formstore.find('input[name=\"province\"]').val('');\r\n        if (province.length > 0) {\r\n            form.find('input[name=\"province\"]').val(province);\r\n            formstore.find('input[name=\"province\"]').val(province);\r\n        }\r\n    //Lấy district vào hidden field\r\n        var district = [];\r\n        district.push($('#filter #select-district').val());\r\n        form.find('input[name=\"district\"]').val('');\r\n        formstore.find('input[name=\"district\"]').val('');\r\n        if (district.length > 0) {\r\n            form.find('input[name=\"district\"]').val(district);\r\n            formstore.find('input[name=\"district\"]').val(district);\r\n        }\r\n\r\n\r\n    form.find('input[name=\"page\"]').val(1);\r\n    getFilterResultStore();\r\n}\r\nfunction getFilterResultStore(type) {\r\n    var form = $(\"#filterform\"),\r\n        paramlist = ['storekey', 'province', 'district', 'lat', 'log','page', 'sort'];\r\n    if (type === 'loadmore') {\r\n        var top = $('#list-filter-loadmore > *').last().offset().top;\r\n        $.ajax({\r\n            url: form.attr('action'),\r\n            type: 'GET',\r\n            data: form.serialize() + '&type=loadmore',\r\n            beforeSend: function () {\r\n                $('#loadmore').addClass('load-more-overlay loading');\r\n                $('#list-filter-loadmore').addClass('shimmer-container');\r\n            },\r\n            success: function (result) {\r\n                $('html, body').animate({\r\n                    scrollTop: top + 100\r\n                }, 500);\r\n                $('#list-filter-loadmore').append(result.viewsrc).removeClass('shimmer-container');\r\n                totalitem = '1-' + $('#list-filter-loadmore > *').length + '/' + result.TotalItemCount;\r\n                $('.readmore-count').text('(' + result.itemremaining + ')');\r\n                $('.totalitem').text(totalitem);\r\n                form.find('input[name=\"page\"]').val(result.CurrentPage);\r\n                if (result.CurrentPage >= result.TotalPageCount) $('#loadmore').hide();\r\n                updateState(paramlist);\r\n                $('#loadmore').removeClass('load-more-overlay loading');\r\n            },\r\n            error: function (result) {\r\n                $('#list-filter-loadmore').removeClass('shimmer-container');\r\n                $('#loadmore').removeClass('load-more-overlay loading');\r\n                $('#error-modal p').text(result.Msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        $.ajax({\r\n            url: form.attr('action'),\r\n            type: 'GET',\r\n            data: form.serialize(),\r\n            beforeSend: function () {\r\n                $('#list-filter').addClass('shimmer-container');\r\n            },\r\n            success: function (result) {\r\n                $('#list-filter').html(result).removeClass('shimmer-container');\r\n                $('.totalitem').text(totalitem);\r\n                updateState(paramlist);\r\n            },\r\n            error: function (result) {\r\n                $('#list-filter').removeClass('shimmer-container');\r\n                $('#error-modal p').text(result.Msg);\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n// Loadmore srcoll\r\nfunction loadmoreSrcoll() {\r\n    var form = $('#filterform'),\r\n        page = parseInt(form.find('input[name=\"page\"]').val()) + 1,\r\n        $wrapper = $('#list-filter-loadmore'),\r\n        paramlist = ['keysearch', 'page', 'sort'];\r\n    form.find('input[name=\"page\"]').val(page);\r\n    $.ajax({\r\n        url: form.attr('action'),\r\n        type: 'GET',\r\n        data: form.serialize() + '&type=loadmore',\r\n        beforeSend: function () {\r\n            $wrapper.attr('data-load-state', 'loading');\r\n            if (!$wrapper.next().hasClass('load-more-overlay')) {\r\n                $('<div class=\"load-more-overlay loading\"></div>').insertAfter($wrapper);\r\n            } else {\r\n                $wrapper.next().addClass('loading');\r\n            }\r\n        },\r\n        success: function (result) {\r\n            if (result.CurrentPage > result.TotalPageCount) {\r\n                $wrapper.next().removeClass('loading');\r\n                window.removeEventListener('scroll', loadmoreSrcoll, { passive: true });\r\n            }\r\n            else {\r\n                $wrapper.attr('data-load-count', result.CurrentPage);\r\n                setTimeout(function () {\r\n                    $wrapper.next().removeClass('loading');\r\n                    $wrapper.append(result.viewsrc);\r\n                    initHeart('#list-filter-loadmore');\r\n                    initCompare('#list-filter-loadmore');\r\n                    $wrapper.data('load-state', 'loaded');\r\n                }, 500);\r\n                updateState(paramlist);\r\n            }\r\n        },\r\n        error: function (result) {\r\n            $('#error-modal p').text(result.Msg);\r\n            Ecsgroup.popup({\r\n                items: {\r\n                    src: '#error-modal'\r\n                },\r\n            }, 'error');\r\n        }\r\n    });\r\n}\r\nfunction updateState(paramlist) {\r\n    var frmData = $('#filterform').serializeArray(),\r\n        qr = '',\r\n        url = window.location.href.split('?')[0],\r\n        title = document.title;\r\n    for (var i = 0; i < frmData.length; i++) {\r\n        var d = frmData[i];\r\n        if (d.value === undefined || d.value === '')\r\n            continue;\r\n        if (paramlist.includes(d.name)) qr += '&' + d.name + '=' + d.value;\r\n    }\r\n    qr = qr.replace(/(^&)|(&$)/g, '');\r\n    if (qr === '')\r\n        qr = url;\r\n    else\r\n        qr = url + '?' + qr;\r\n    window.history.pushState({ state: qr, rand: Math.random() }, title, qr);\r\n}\r\n\r\nfunction ajaxProduct(obj, id, viewname, htmlresult) {\r\n    let $this = $(obj),\r\n        parent = $this.parent(),\r\n        stringVal = id.split('|'),\r\n        targetType = stringVal[0],\r\n        targetId = stringVal[1];\r\n    if (Ecsgroup.isCountDown) $(htmlresult + ' .product-countdown').countdown('destroy');\r\n    switch (targetType) {\r\n        case 'productgroup':\r\n            $.ajax({\r\n                url: '/aj/Shared/ProductGroupAjax',\r\n                type: 'GET',\r\n                data: { id: targetId, viewname: viewname },\r\n                beforeSend: function () {\r\n                    parent.scrollLeft($this.offset().left - 15);\r\n                    $this.addClass('active load-more-overlay loading').siblings().removeClass('active');\r\n                    $(htmlresult).addClass('shimmer-container');\r\n                },\r\n                success: function (result) {\r\n                    if (!result.Ok) {\r\n                        $this.removeClass('load-more-overlay loading');\r\n                        $(htmlresult).removeClass('shimmer-container');\r\n                        $('#error-modal p').text(result.Msg);\r\n                        Ecsgroup.popup(\r\n                            [{\r\n                                src: '#error-modal',\r\n                                type: \"inline\"\r\n                            }],\r\n                            {}, 'error');\r\n                    }\r\n                    else {\r\n                        $this.removeClass('load-more-overlay loading');\r\n                        $(htmlresult).html(result.Data.viewsrc).removeClass('shimmer-container');\r\n                        $(htmlresult + ' .lazyload-bg').each(function () {\r\n                            $(this).css('background-image', 'url(' + $(this).data(\"bg\") + ')').removeClass('lazyload-bg').addClass('ls-is-cached lazyloaded');\r\n                        })\r\n                        setTimeout(function () {\r\n                            if (Ecsgroup.isCountDown) Ecsgroup.countDown(htmlresult + ' .product-countdown');\r\n                            if (Ecsgroup.isWishList) initHeart(htmlresult);\r\n                            if (Ecsgroup.isCompare) initCompare(htmlresult);\r\n                        }, 1000);\r\n                        //Ecsgroup.shop.init();\r\n                    }\r\n                },\r\n                error: function (result) {\r\n                    $this.removeClass('load-more-overlay loading');\r\n                    $(htmlresult).removeClass('shimmer-container');\r\n                    $('#error-modal p').text(result.Msg);\r\n                    Ecsgroup.popup(\r\n                        [{\r\n                            src: '#error-modal',\r\n                            type: \"inline\"\r\n                        }],\r\n                        {}, 'error');\r\n                }\r\n            });\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n// Contact\r\n$.extend($.validator.messages, {\r\n    required: validate1,\r\n    remote: validate2,\r\n    email: validate3,\r\n    url: validate4,\r\n    date: validate5,\r\n    dateISO: validate6,\r\n    number: validate7,\r\n    digits: validate8,\r\n    creditcard: validate9,\r\n    equalTo: validate10,\r\n    accept: validate11,\r\n    maxlength: $.validator.format(validate12),\r\n    minlength: $.validator.format(validate13),\r\n    rangelength: $.validator.format(validate14),\r\n    range: $.validator.format(validate15),\r\n    max: $.validator.format(validate16),\r\n    min: $.validator.format(validate17)\r\n});\r\nfunction validateForm(btn, idform, layout = 'default') {\r\n    let submitted = true,\r\n        formError = $(idform).find('.error-lst');\r\n    let form = $(idform).validate({\r\n        focusCleanup: true,\r\n        focusInvalid: false,\r\n        errorPlacement: function (error, element) { return false; },\r\n        showErrors: function (errorMap, errorList) {\r\n            if (submitted) {\r\n                let summary;\r\n                switch (layout) {\r\n                    case 'mini':\r\n                        summary = text1 + this.numberOfInvalids() + text2 + '<br>';\r\n                        $.each(errorList, function () {\r\n                            summary += this.message + $(this.element).data('name') + '<br>';\r\n                        });\r\n                        $('#error-modal p').html(summary);\r\n                        break;\r\n                    default:\r\n                        summary = '<div>' + text1 + this.numberOfInvalids() + text2 + '</div>';\r\n                        $.each(errorList, function () {\r\n                            summary += '<div class=\"alert-test\"><div class=\"alert-title ecs-icon-times-circle\"></div> ' + this.message + $(this.element).data('name') + '</div>';\r\n                        });\r\n                        formError.html(summary);\r\n                }\r\n                submitted = false;\r\n            }\r\n            this.defaultShowErrors();\r\n        },\r\n        invalidHandler: function (event, validator) {\r\n            // 'this' refers to the form\r\n            switch (layout) {\r\n                case 'mini':\r\n                    if (validator.numberOfInvalids()) {\r\n                        Ecsgroup.popup(\r\n                            [{\r\n                                src: '#error-modal',\r\n                                type: \"inline\"\r\n                            }],\r\n                            {}, 'error');\r\n                    } else Fancybox.getInstance().close();\r\n                    break;\r\n                default:\r\n                    if (validator.numberOfInvalids()) formError.show();\r\n                    else formError.hide();\r\n            }\r\n            submitted = true;\r\n        },\r\n        submitHandler: function (form) {\r\n            submitted = true;\r\n            var note = $(idform).find('*[name=\"Note\"]').val(),\r\n                arr = [];\r\n            $(idform).find('.get-value').each(function (e) {\r\n                var check = $(this).attr('name');\r\n                var arrayCheck = ['name', 'email', 'phonenumber', 'body', 'file'];\r\n                if (!arrayCheck.includes(check) && $(this).prop('readonly') != true) {\r\n                    var type = $(this).data('type');\r\n                    var title = $(this).data('name');\r\n                    var val = $(this).val();\r\n                    var code = $(this).prop('name');\r\n                    if (type === 6 || type === 7) {\r\n                        if ($(this).is(':checked') === false) {\r\n                            val = null;\r\n                        }\r\n                    }\r\n                    arr.push({ \"Name\": title, \"Value\": val, \"Tag\": type, \"Code\": code });\r\n                }\r\n            });\r\n\r\n            //var modal = {\r\n            //    name: $(idform).find(\"*[name='name']\").val(),\r\n            //    phonenumber: $(idform).find(\"*[name='phonenumber']\").val(),\r\n            //    email: $(idform).find(\"*[name='email']\").val(),\r\n            //    body: $(idform).find(\"*[name='body']\").val(),\r\n            //    file: $(idform).find(\"*[name='file']\").val(),\r\n            //    Title: $(idform).find(\"*[name='Title']\").val(),\r\n            //    ContactType: $(idform).find(\"*[name='ContactType']\").val(),\r\n            //    Action: $(idform).find(\"*[name='Action']\").val()\r\n            //};\r\n            $.ajax({\r\n                url: $(idform).attr('action'),\r\n                dataType: \"json\",\r\n                method: \"POST\",\r\n                /*data: { modal: modal, extentionfield: arr },*/\r\n                data: $(idform).serialize() + '&ext=' + JSON.stringify(arr),\r\n                beforeSend: function () {\r\n                    $(btn).addClass('load-more-overlay loading');\r\n                },\r\n                success: function (result) {\r\n                    $(btn).removeClass('load-more-overlay loading');\r\n                    switch (layout) {\r\n                        case 'mini':\r\n                            if (!result.Ok) {\r\n                                $('#error-modal p').text(result.Msg);\r\n                                Ecsgroup.popup(\r\n                                    [{\r\n                                        src: '#error-modal',\r\n                                        type: \"inline\"\r\n                                    }],\r\n                                    {}, 'error');\r\n                            }\r\n                            else {\r\n                                sendMail(result.Data.id, '/aj/Shared/SendEmail');\r\n                                Ecsgroup.Minipopup.open({\r\n                                    productClass: ' success minipopup-center',\r\n                                    message: '<p><i class=\"demo-icon cus-ok-circled\"></i>' + result.Msg + '</p>',\r\n                                    template:\r\n                                        '<div class=\"minipopup-box {{productClass}}\">' +\r\n                                        '<div class=\"minipopup-body\">' +\r\n                                        '<div class=\"minipopup-content\">{{message}}</div>' +\r\n                                        '</div>' +\r\n                                        '</div>',\r\n                                });\r\n                                $(idform).trigger('reset');\r\n                            }\r\n                            return false;\r\n                            break;\r\n                        default:\r\n                            if (!result.Ok) formError.html(errorTemplate.replace('ERROR_MSG', result.Msg)).show();\r\n                            else {\r\n                                sendMail(result.Data.id, '/aj/Shared/SendEmail');\r\n                                formError.hide();\r\n                                $('#success-modal p').text(note);\r\n                                Ecsgroup.popup(\r\n                                    [{\r\n                                        src: '#success-modal',\r\n                                        type: \"inline\"\r\n                                    }],\r\n                                    {}, 'error');\r\n                                $(idform).trigger('reset');\r\n                                if (typeof fileCurrent !== 'undefined') fileCurrent._removeChips()\r\n                            }\r\n                            return false;\r\n                    }\r\n                },\r\n                error: function (result) {\r\n                    $(btn).removeClass('load-more-overlay loading');\r\n                    $('#error-modal p').text(result.Msg);\r\n                    Ecsgroup.popup(\r\n                        [{\r\n                            src: '#error-modal',\r\n                            type: \"inline\"\r\n                        }],\r\n                        {}, 'error');\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\nfunction validateFormMini(btn, idform) {\r\n    let submitted = true;\r\n    let form = $(idform).validate({\r\n        focusInvalid: true,\r\n        errorPlacement: function (error, element) { return false; },\r\n        //rules: {\r\n        //    email: {\r\n        //        required: true,\r\n        //    }\r\n        //},\r\n        //messages: {\r\n        //    email: {\r\n        //        required: validate18,\r\n        //    }\r\n        //},\r\n        showErrors: function (errorMap, errorList) {\r\n            if (submitted) {\r\n                var summary = text1 + this.numberOfInvalids() + text2 + '<br>';\r\n                $.each(errorList, function () {\r\n                    summary += this.message + $(this.element).data('name') + '<br>';\r\n                });\r\n                $('#error-modal p').html(summary);\r\n                submitted = false;\r\n            }\r\n            this.defaultShowErrors();\r\n        },\r\n        invalidHandler: function (event, validator) {\r\n            // 'this' refers to the form\r\n            if (validator.numberOfInvalids()) {\r\n                Ecsgroup.popup(\r\n                    [{\r\n                        src: '#error-modal',\r\n                        type: \"inline\"\r\n                    }],\r\n                    {}, 'error');\r\n            } else {\r\n                Fancybox.getInstance().close();\r\n            }\r\n            submitted = true;\r\n        },\r\n        submitHandler: function (form) {\r\n            submitted = true;\r\n            var arr = [];\r\n            $(idform).find('.get-value').each(function (e) {\r\n                var check = $(this).attr('name');\r\n                var arrayCheck = ['name', 'email', 'phonenumber', 'body', 'file'];\r\n                if (!arrayCheck.includes(check) && $(this).prop('readonly') != true) {\r\n                    var type = $(this).data('type');\r\n                    var title = $(this).data('name');\r\n                    var val = $(this).val();\r\n                    var code = $(this).prop('name');\r\n                    if (type === 6 || type === 7) {\r\n                        if ($(this).is(':checked') === false) {\r\n                            val = null;\r\n                        }\r\n                    }\r\n                    arr.push({ \"Name\": title, \"Value\": val, \"Tag\": type, \"Code\": code });\r\n                }\r\n            });\r\n            //var modal = {\r\n            //    name: $(idform).find(\"*[name='name']\").val(),\r\n            //    phonenumber: $(idform).find(\"*[name='phonenumber']\").val(),\r\n            //    email: $(idform).find(\"*[name='email']\").val(),\r\n            //    body: $(idform).find(\"*[name='body']\").val(),\r\n            //    file: $(idform).find(\"*[name='file']\").val(),\r\n            //    Title: $(idform).find(\"*[name='Title']\").val(),\r\n            //    ContactType: $(idform).find(\"*[name='ContactType']\").val(),\r\n            //    Action: $(idform).find(\"*[name='Action']\").val()\r\n            //};\r\n            $.ajax({\r\n                url: $(idform).attr('action'),\r\n                dataType: \"json\",\r\n                method: \"POST\",\r\n                /*data: { modal: modal, extentionfield: null },*/\r\n                data: $(idform).serialize() + '&ext=' + JSON.stringify(arr),\r\n                beforeSend: function () {\r\n                    $(btn).addClass('load-more-overlay loading');\r\n                },\r\n                success: function (result) {\r\n                    $(btn).removeClass('load-more-overlay loading');\r\n                    if (!result.Ok) {\r\n                        $('#error-modal p').text(result.Msg);\r\n                        Ecsgroup.popup(\r\n                            [{\r\n                                src: '#error-modal',\r\n                                type: \"inline\"\r\n                            }],\r\n                            {}, 'error');\r\n                    }\r\n                    else {\r\n                        sendMail(result.Data.id, '/aj/Shared/SendEmail');\r\n                        Ecsgroup.Minipopup.open({\r\n                            productClass: ' success minipopup-center',\r\n                            message: '<p><i class=\"demo-icon cus-ok-circled\"></i>' + result.Msg + '</p>',\r\n                            template:\r\n                                '<div class=\"minipopup-box {{productClass}}\">' +\r\n                                '<div class=\"minipopup-body\">' +\r\n                                '<div class=\"minipopup-content\">{{message}}</div>' +\r\n                                '</div>' +\r\n                                '</div>',\r\n                        });\r\n                        $(idform).trigger('reset');\r\n                    }\r\n                    return false;\r\n                },\r\n                error: function (result) {\r\n                    $(btn).removeClass('load-more-overlay loading');\r\n                    $('#error-modal p').text(result.Msg);\r\n                    Ecsgroup.popup(\r\n                        [{\r\n                            src: '#error-modal',\r\n                            type: \"inline\"\r\n                        }],\r\n                        {}, 'error');\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nfunction sendMail(targetId, action) {\r\n    $.ajax({\r\n        url: action,\r\n        type: 'GET',\r\n        data: { id: targetId },\r\n        beforeSend: function () { },\r\n        success: function () { },\r\n        error: function () { }\r\n    });\r\n}\r\n// Contact Api\r\nfunction validateFormApi(btn, idform, source) {\r\n    var submitted = true,\r\n        emailto = 'tronghuy2208@gmail.com',\r\n        exelApi = 'https://script.google.com/macros/s/AKfycbytuo2Pld01GVJjZrvlAMywFd6UJsN5Yy9-6SI90tGS9m1nR6aDhOy3yHJOppdo9QEHUg/exec', // https://github.com/levinunnink/html-form-to-google-sheet\r\n        formError = $(idform).find('.error-lst');\r\n    var form = $(idform).validate({\r\n        focusCleanup: true,\r\n        focusInvalid: false,\r\n        errorPlacement: function (error, element) { return false; },\r\n        showErrors: function (errorMap, errorList) {\r\n            if (submitted) {\r\n                var summary = '<div>' + text1 + this.numberOfInvalids() + text2 + '</div>';\r\n                $.each(errorList, function () {\r\n                    summary += '<div class=\"alert-test\"><div class=\"alert-title ecs-icon-times-circle\"></div> ' + this.message + $(this.element).data('name') + '</div>';\r\n                });\r\n                formError.html(summary);\r\n                submitted = false;\r\n            }\r\n            this.defaultShowErrors();\r\n        },\r\n        invalidHandler: function (event, validator) {\r\n            // 'this' refers to the form\r\n            if (validator.numberOfInvalids()) {\r\n                formError.show();\r\n            } else {\r\n                formError.hide();\r\n            }\r\n            submitted = true;\r\n        },\r\n        submitHandler: function (form) {\r\n            submitted = true;\r\n            var note = $(idform).find('*[name=\"Note\"]').val(),\r\n                arr = [];\r\n            $(idform).find('.get-value').each(function (e) {\r\n                var check = $(this).attr('name');\r\n                var arrayCheck = ['name', 'email', 'phonenumber', 'body', 'file'];\r\n                if (!arrayCheck.includes(check)) {\r\n                    var type = $(this).data('type');\r\n                    var title = $(this).data('name');\r\n                    var val = $(this).val();\r\n                    var code = $(this).prop('name');\r\n                    if (type === 6 || type === 7) {\r\n                        if ($(this).is(':checked') === false) {\r\n                            val = null;\r\n                        }\r\n                    }\r\n                    arr.push({ \"Name\": title, \"Value\": val, \"Tag\": type, \"Code\": code });\r\n                }\r\n            });\r\n\r\n            //var modal = {\r\n            //    name: $(idform).find(\"*[name='name']\").val(),\r\n            //    phonenumber: $(idform).find(\"*[name='phonenumber']\").val(),\r\n            //    email: $(idform).find(\"*[name='email']\").val(),\r\n            //    body: $(idform).find(\"*[name='body']\").val(),\r\n            //    file: $(idform).find(\"*[name='file']\").val(),\r\n            //    Title: $(idform).find(\"*[name='Title']\").val(),\r\n            //    ContactType: $(idform).find(\"*[name='ContactType']\").val(),\r\n            //    Action: $(idform).find(\"*[name='Action']\").val()\r\n            //};\r\n            if (exelApi != '') {\r\n                $.ajax({\r\n                    url: exelApi,\r\n                    method: \"POST\",\r\n                    data: $(idform).serialize(),\r\n                    beforeSend: function () {},\r\n                    success: function (result) {},\r\n                    error: function (result) {}\r\n                });\r\n            }\r\n            $.ajax({\r\n                url: 'https://boldman.vn/aj/StaticPage/ContactApi',\r\n                dataType: \"json\",\r\n                method: \"POST\",\r\n                /*data: { modal: modal, extentionfield: arr },*/\r\n                data: $(idform).serialize() + '&extentionfield=' + JSON.stringify(arr),\r\n                beforeSend: function () {\r\n                    $(btn).addClass('load-more-overlay loading');\r\n                },\r\n                success: function (result) {\r\n                    $(btn).removeClass('load-more-overlay loading');\r\n                    if (!result.Ok) {\r\n                        formError.html(errorTemplate.replace('ERROR_MSG', result.Msg)).show();\r\n                    }\r\n                    else {\r\n                        sendMailApi(result.Data.id, 'https://boldman.vn/aj/staticpage/SendEmailApi', emailto);\r\n                        formError.hide();\r\n                        $('#success-modal p').text(note);\r\n                        Ecsgroup.popup(\r\n                            [{\r\n                                src: '#success-modal',\r\n                                type: \"inline\"\r\n                            }],\r\n                            {}, 'error');\r\n                        $(idform).trigger('reset');\r\n                        if (typeof fileCurrent !== 'undefined') {\r\n                            fileCurrent._removeChips()\r\n                        }\r\n                    }\r\n                    return false;\r\n                },\r\n                error: function (result) {\r\n                    $(btn).removeClass('load-more-overlay loading');\r\n                    $('#error-modal p').text(result.Msg);\r\n                    Ecsgroup.popup(\r\n                        [{\r\n                            src: '#error-modal',\r\n                            type: \"inline\"\r\n                        }],\r\n                        {}, 'error');\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\nfunction sendMailApi(targetId, action, emailto) {\r\n    $.ajax({\r\n        url: action,\r\n        type: 'GET',\r\n        data: { id: targetId, emailTo: emailto },\r\n        beforeSend: function () { },\r\n        success: function () { },\r\n        error: function () { }\r\n    });\r\n}\r\n\r\nfunction choselang(lang) {\r\n    $.post(\"/aj/shared/CreateCookie\",\r\n        { lang: lang },\r\n        function (data) {\r\n            if (!data.Ok) {\r\n                location.reload();\r\n            }\r\n            else {\r\n                alert(\"Lỗi\");\r\n            }\r\n        });\r\n}"],"mappings":"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"}